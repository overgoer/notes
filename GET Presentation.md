---

## GET-запросы в API тестировании 🚀

--- 
--
### Что вы узнаете: 🤔

+ Какие проверки пропускают большинство тестировщиков ⚠️
+ Как через простой GET можно получить доступ к секретным файлам 🔐
+ Почему параметры в URL опаснее чем кажется 💀
+ Где кешируются GET 💾
+ На чем регулярно спотыкаются даже опытные разработчики 🤕

---

### Что такое GET 🤷‍♂️

- > [!note]+Только получение данных 📥
- Не меняет данные на сервере 🙅‍♂️
- Кешируемый ♻️
- Идемпотентный 🔂

---

### Параметры запроса 🔍

- Демонстрация в Postman:
  - Фильтры: ?gender='male'&age=25 🕵️‍♂️
  - Даты: ?createdAt='2024-01-20' 📅
  - Поиск: ?search='john' 🔍
  - Сортировка: ?sort='name'&order='desc' 🔽

---

### Частые баги с параметрами 🐞

- Спецсимволы в параметрах 🤪
- Невалидные значения ❌ 
- Пустые параметры 😶
- Дублирование параметров 🤕

---

### Пагинация 📜

- Демонстрация работы:
  - Limit/offset: ?limit=10&offset=20
  - Page/perPage: ?page=2&perPage=20

--- 

### Проверки пагинации ✅

- Граничные значения
- Отрицательные значения  
- Слишком большие значения

---

### Ограничения GET ⚠️

- Максимальная длина URL:
  - Браузеры: Chrome (32k), Firefox (65k), IE (2k) 😱
  - Серверы: Apache (8k), Nginx (4k) 😰
  - На практике: держим URL до 2k для совместимости 👍

---

### Видимость данных в GET 👀

- История браузера хранит все параметры 📜
- Логи сервера записывают полный URL 📝
- Сохраняется в закладках со всеми параметрами 🔖
- При копировании URL передаются все данные 📋
- Не использовать для sensitive данных (пароли, токены) 🙊

---

### Кеширование 💾

- Browser cache: локальное хранение ответов 🖥️
- Proxy cache: кеширование на промежуточных серверах 🌐
- Server cache: кеширование на уровне API 🖧
- Управление через заголовки: 🎛️

```
Cache-Control: no-cache, no-store, must-revalidate
Pragma: no-cache 
Expires: 0
```

---

### Безопасность 🔒

Path traversal атаки: 😈
```
GET /api/files?file=report.pdf  // норм
GET /api/files?file=../../../etc/passwd  // атака 
```

XSS через параметры: 💀 
```
GET /api/search?q=телефон  // норм
GET /api/search?q=<script>alert(1)</script>  // атака
```

SQL-инъекции в параметрах: ☠️
```  
GET /api/users?id=1  // норм
GET /api/users?id=1' OR '1'='1  // атака
```

---

### Рекомендации 👍

- POST вместо GET для:
  - Больших объемов данных 📦
  - Чувствительной информации 🔐
  - Сложных запросов 🤯
- Всегда проверяем:
  - Длину URL 📏
  - Кеширование ♻️
  - Безопасность параметров 🔒
  - Валидацию данных ✅

---

### Главные моменты 🎯

- GET только получает данные 📥
- Параметры в URL могут быть опасны 💀
- Пагинация требует особого внимания ⚠️
- GET кешируется по умолчанию ♻️
- Безопасность GET часто недооценивают 🔒

---

## Заключение 🎉

- Чеклист проверок GET запросов в Telegram 📝
- Анонс видео про POST метод 📺

---

## Полезные ссылки 🔗

- [HTTP/1.1 RFC - GET Method](https://tools.ietf.org/html/rfc7231#section-4.3.1) 📖
- [OWASP Security Testing Guide](https://owasp.org/www-project-web-security-testing-guide/) 🛡️
- [HTTP Caching Guide](https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching) ♻️

--- 

## Материалы в Telegram 📨

- PDF чеклист проверок GET-запросов 📄
- Коллекция Postman с примерами 🗂️
- Шпаргалка по пагинации 📜
- Примеры баг-репортов для GET метода 🐞

---
