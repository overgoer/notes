Баги в реализации API зачастую универсальны для всех платформ и часто повторяются.
Главное знать где искать.
Мобильный тестировщик, скорее всего предпочтёт воспользоваться сниффером и диагностировать проблему в Charles Proxy, например (если не пользовался - вот крутой [туториал от Влада](https://t.me/QAMobileApps/292))

Я же расскажу, почему API-клиенты вроде Postman, Bruno, Insomnia ускорят дебаггинг в мобильном тестировании на примере 3 часто встречающихся багов.

**3 проблемы, часто встречающиеся при тестировании API:**
- Ошибки аутентификации и авторизации
- Несовместимость версий API и клиента 
- Ошибки парсинга JSON
## Ошибки аутентификации и авторизации

***Часто вызвано истекшим токеном доступа***

**Симптом**
- *Пользователь не может обновить ленту новостей \ добавить товар в избранное \ совершить иное действие в приложении*
**Дебаггинг:**
	Отправить запрос на любое действие пользователя с текущим токеном.
	Если код ответа = 401, токен истек
	разбираемся почему и ожидаемое ли это поведение.
	Если токен не должен был "протухнуть" - прикладываем к баг-репорту красивые логи и ответы API.
	
## Несовместимость версий API и клиента

***ОЧЕНЬ частый баг***
Обычно вызвано обновлением серверного API без сохранения обратной совместимости
Симптом:
- Запрос, ранее возвращавший успешный ответ с информацией теперь возвращает "status": 404, Not Found
Дебаггинг:
	Перейти в актуальный Swagger сервиса, проверить, что отправляемый запрос по-прежнему в нём есть
	Скорее всего, запрос на месте, но в URL изменилась версия с api/v.1/... на api/v.2/, а мобильную команду никто не предупредил об этом
## Ошибки парсинга JSON

**Обычно вызвано следующим:**
1. Изменение структуры JSON в ответе API
2. Несоответствие типов данных
3. 3. Неожиданные null значения
**Симптом:**
- Приложение крашится при попытке отобразить данные / Данные отображаются некорректно например как *"N/A"*
**Дебаггинг:**
  Отправить запрос в Postman на тот же эндпоинт, который использует приложение.
  Сравнить полученный JSON с ожидаемой схемой.
  Если структура отличается, использовать Postman для визуализации различий.

Пример приведу только на 1-й случай, когда схема JSON в мобильном приложении и ответе API расходятся:
API книжной библиотеки `https://api.library.com/v2/books/1`

Ожидаемый JSON:
```json
{
  "id": 1,
  "title": "1984",
  "author": "George Orwell"
}
```

Фактический JSON (после обновления API):
```json
{
  "id": 1,
  "bookInfo": {
    "title": "1984",
    "author": "George Orwell"
  }
}
```

Во всех этих примерах Postman и другие HTTP клиенты предпочтительнее, т.к. не требуют взаимодействия с GUI приложения: все что нужно - авторизоваться и проверить конкретный запрос.
К тоже же, интерфейс в них менее нагружен и позволяет без фильтров и настроек видеть ответ на конкретный отправленный запрос.
Если же ты не часто работаешь с Postman и работа с переменными и кодом пока кажется сложной, тебя удивит, какой там низкий порог входа. Например в [этом видео](https://youtube.com/shorts/Df0hu3L3upw?si=SgsmRRn4WvwxFafc) я показал, как не знаю JS можно писать рабочие автотесты на API.