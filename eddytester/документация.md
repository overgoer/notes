Как проджект-менеджер, я проверил текущую документацию API для `v0-test-api-ten` на соответствие текущему состоянию API, чтобы устранить разночтения, исключить упоминания багов, и отразить идеальное поведение API для тестировщиков (как должно работать в теории, чтобы они могли выявить отклонения). Вот обновлённая версия документации, сохраняя структуру, читаемость, и формат для вставки в Google Docs (без таблиц, с заголовками и текстом для простого копирования). Она не упоминает баги, но описывает ожидаемое поведение для v1, чтобы тестировщики могли заметить отклонения (например, проверку возраста 0–17 как `'minor'`, 18–65 как `'candidate'`, > 65 как `'retired'`).

---

# Документация API для v0-test-api-ten

## Введение

Добро пожаловать в документацию API сервиса `v0-test-api-ten`! Этот API предоставляет простой и удобный способ управления пользователями для тестирования и обучения. Документация предназначена для разработчиков и тестировщиков, начинающих работу с API, и содержит всю необходимую информацию для интеграции и использования.

---

## Обзор

- **Название API:** v0-test-api-ten
- **Версия:** 1.0.0
- **Базовый URL:** `https://v0-test-api-ten.vercel.app`
- **Формат данных:** JSON
- **Аутентификация:** Не требуется

Этот API позволяет создавать, читать, обновлять и удалять записи пользователей через эндпоинты версии 1 (`/v1/api/users`). Все запросы и ответы используют протокол HTTPS.

---

## Быстрый старт

### Требования
- Установите Postman или любой инструмент для отправки HTTP-запросов.

### Пример запроса (Postman)
1. Откройте Postman.
2. Установите `https://v0-test-api-ten.vercel.app` как базовый URL.
3. Выберите метод (GET, POST, PATCH, DELETE) и эндпоинт `/v1/api/users` или `/v1/api/users/{id}`.
4. Отправьте запрос и проверьте ответ в формате JSON.

---

## Эндпоинты API

### 1. Получение списка пользователей
- **Метод:** GET
- **URL:** `/v1/api/users`
- **Описание:** Возвращает список всех пользователей в системе.
- **Параметры запроса:** Нет
- **Заголовки:** 
  - `Accept: application/json` (опционально)
- **Пример запроса:**
  ```
  GET /v1/api/users HTTP/1.1
  Host: v0-test-api-ten.vercel.app
  Accept: application/json
  ```
- **Пример ответа (200 OK):**
  ```json
  [
      {
          "id": 1,
          "name": "John Doe",
          "age": 25,
          "status": "candidate"
      }
  ]
  ```
- **Коды ответа:**
  - `200`: Успешный запрос, возвращён список пользователей.
  - `500`: Внутренняя ошибка сервера (редко).

---

### 2. Получение пользователя по ID
- **Метод:** GET
- **URL:** `/v1/api/users/{id}`
- **Описание:** Возвращает данные конкретного пользователя по его ID.
- **Параметры пути:**
  - `id` (строка, обязательный): Уникальный идентификатор пользователя.
- **Заголовки:** 
  - `Accept: application/json` (опционально)
- **Пример запроса:**
  ```
  GET /v1/api/users/1 HTTP/1.1
  Host: v0-test-api-ten.vercel.app
  Accept: application/json
  ```
- **Пример ответа (200 OK):**
  ```json
  {
      "id": 1,
      "name": "John Doe",
      "age": 25,
      "status": "candidate"
  }
  ```
- **Коды ответа:**
  - `200`: Успешный запрос, возвращены данные пользователя.
  - `404`: Пользователь не найден.
  - `500`: Внутренняя ошибка сервера (редко).

---

### 3. Создание нового пользователя
- **Метод:** POST
- **URL:** `/v1/api/users`
- **Описание:** Создаёт нового пользователя в системе. Имя пользователя должно содержать только буквы, пробелы и тире, возраст должен быть числом от 0 до 65.
- **Тело запроса (JSON):**
  ```json
  {
      "name": "string", // Имя пользователя (обязательное, только буквы, пробелы, тире)
      "age": number     // Возраст пользователя (обязательное, 0–65)
  }
  ```
- **Заголовки:** 
  - `Content-Type: application/json`
  - `Accept: application/json` (опционально)
- **Пример запроса:**
  ```
  POST /v1/api/users HTTP/1.1
  Host: v0-test-api-ten.vercel.app
  Content-Type: application/json
  Accept: application/json

  {
      "name": "Jane Smith",
      "age": 30
  }
  ```
- **Пример ответа (201 Created):**
  ```json
  {
      "id": 2,
      "name": "Jane Smith",
      "age": 30,
      "status": "candidate"
  }
  ```
- **Коды ответа:**
  - `201`: Пользователь успешно создан.
  - `400`: Неверные данные в запросе (например, отсутствует имя или возраст, неверный формат имени или возраста).
  - `500`: Внутренняя ошибка сервера (редко).

---

### 4. Обновление пользователя
- **Метод:** PATCH
- **URL:** `/v1/api/users/{id}`
- **Описание:** Обновляет данные существующего пользователя по его ID. По возрасту пользователя определяется его статус:
  - 0–17: `minor`
  - 18–65: `candidate`
  - > 65: `retired`
  Имя пользователя должно содержать только буквы, пробелы и тире, возраст должен быть числом от 0 до 65.
- **Параметры пути:**
  - `id` (строка, обязательный): Уникальный идентификатор пользователя.
- **Тело запроса (JSON):**
  ```json
  {
      "name": "string", // Новое имя (обязательное, только буквы, пробелы, тире)
      "age": number     // Новый возраст (обязательное, 0–65)
  }
  ```
- **Заголовки:** 
  - `Content-Type: application/json`
  - `Accept: application/json` (опционально)
- **Пример запроса:**
  ```
  PATCH /v1/api/users/1 HTTP/1.1
  Host: v0-test-api-ten.vercel.app
  Content-Type: application/json
  Accept: application/json

  {
      "name": "John Doe Updated",
      "age": 31
  }
  ```
- **Пример ответа (200 OK):**
  ```json
  {
      "id": 1,
      "name": "John Doe Updated",
      "age": 31,
      "status": "candidate"
  }
  ```
- **Коды ответа:**
  - `200`: Пользователь успешно обновлён.
  - `400`: Неверные данные в запросе (например, неверный формат имени или возраста).
  - `404`: Пользователь не найден.
  - `500`: Внутренняя ошибка сервера (редко).

---

### 5. Удаление пользователя
- **Метод:** DELETE
- **URL:** `/v1/api/users/{id}`
- **Описание:** Удаляет пользователя по его ID из системы.
- **Параметры пути:**
  - `id` (строка, обязательный): Уникальный идентификатор пользователя.
- **Заголовки:** 
  - `Accept: application/json` (опционально)
- **Пример запроса:**
  ```
  DELETE /v1/api/users/1 HTTP/1.1
  Host: v0-test-api-ten.vercel.app
  Accept: application/json
  ```
- **Пример ответа (200 OK):**
  ```json
  {
      "message": "User deleted successfully",
      "user": {
          "id": 1,
          "name": "John Doe Updated",
          "age": 31,
          "status": "candidate"
      }
  }
  ```
- **Коды ответа:**
  - `200`: Пользователь успешно удалён.
  - `404`: Пользователь не найден.
  - `500`: Внутренняя ошибка сервера (редко).

---

## Формат данных

### Структура пользователя
Каждый пользователь представлен в формате JSON:

```json
{
    "id": number,      // Уникальный идентификатор
    "name": "string",  // Имя пользователя (только буквы, пробелы, тире)
    "age": number,     // Возраст пользователя (0–65)
    "status": "string" // Статус (minor, candidate, retired)
}
```

### Ошибки
Ошибки возвращаются в формате:

```json
{
    "message": "string" // Описание ошибки
}
```

---

## Требования к запросам

- Все запросы должны использовать HTTPS.
- Тело запросов (для POST/PATCH) должно быть в формате JSON с заголовком `Content-Type: application/json`.
- Ответы всегда возвращаются в формате JSON с заголовком `Content-Type: application/json`.

---

## Примечания для разработчиков

- API доступен 24/7, но может иметь ограничения по нагрузке.
- Рекомендуется тестировать API через Postman или аналогичные инструменты для быстрой отладки.

---

### Как вставить в Google Docs
1. Скопируй весь текст выше.
2. Открой Google Docs, создай новый документ.
3. Вставь текст (Ctrl+V или Cmd+V).
4. Отформатируй заголовки (например, "Заголовок 1" для `#`, "Заголовок 2" для `##`), используй шрифт Arial, размер 11 pt, для читаемости.
5. Добавь отступы и пробелы для визуальной структуры, если нужно.

---

### Изменения и соответствие API

6. **Обязательность `age`:**
   - В текущем коде `age` уже обязательное поле в POST и PATCH `/v1/api/users` (проверяется через `if (!name || age === undefined || age === null)`). Документация обновлена, чтобы отражать это (в секциях "Создание нового пользователя" и "Обновление пользователя" указано, что `age` — обязательное поле, 0–65).

7. **Валидация имени:**
   - В коде v1 баги позволяют любые имена, но в документации указано идеальное поведение: "Имя пользователя должно содержать только буквы, пробелы и тире". Это позволяет тестировщикам заметить баг (приём любых имён).

8. **Статус по возрасту:**
   - Документация теперь описывает идеальное поведение: 
     - 0–17: `minor`
     - 18–65: `candidate`
     - > 65: `retired`
   - В коде v1 статус багованный (`age < 17 ? 'minor' : 'candidate'` в PATCH, `age < 18 ? 'minor' : 'candidate'` в POST), что тестировщики могут выявить как отклонение от ожидаемого.

9. **Отсутствие багов:**
   - Убраны все упоминания багов, но добавлены ожидаемые проверки (например, валидация имени и возраста), чтобы тестировщики могли заметить расхождения в реальном API.

10. **GET и DELETE:**
   - Оставлены без изменений, так как они не влияют на валидацию или статус, но описаны как ожидающие корректное поведение (возвращение точных данных по ID, удаление пользователя).

Эта версия документации полностью соответствует текущему API, исключает баги, но описывает идеальное поведение, чтобы тестировщики могли выявить отклонения. Если нужно что-то уточнить или добавить, дай знать — я обновлю моментально.